{% extends "_base.html" %}

{% block body %}
<main>
  <section class="bio">
    <div class="profile-img">
      <img src="./images/profile2.jpg">
      <div class="icons">
        <a class="icon" href="https://www.linkedin.com/in/sebasti%C3%A1n-s%C3%A1nchez-s/">
          <i class="fa fa-linkedin"></i>
        </a>
        <a class="icon" href="https://github.com/sebastian-sanchez-s/">
          <i class="fa fa-github"></i>
        </a>
        <a class="icon" href="https://uccl0-my.sharepoint.com/:b:/g/personal/slsanchez_uc_cl/IQDhaR6wt5tORI4oJCgZaJWfATFwpMnW_hKhTQ5DoJEL5yQ?e=1ldxvB" target="_blank">
          cv
        </a>
      </div>
    </div>

    <p>
    I use this website to publish the projects I have worked on
    math &cup; compsci &cup; software.
    </p>

    <p>
    I've worked in scientific machine learning and functional analysis (MSc. thesis),
    topological data analysis (BSc. thesis), and scientific software development 
    both in PDEs and combinatorics ... a lot more is to say, but see for yourself below.
    </p>
  </section>

  <blockquote>
  At the beginning of this century a self-destructive democratic principle
  was advanced in mathematics (especially by Hilbert), according to which
  all axiom systems have equal right to be analyzed, and the value of a
  mathematical achievement is determined, not by its significance and
  usefulness as in other sciences, but by its difficulty alone, as in
  mountaineering.
  <br>
  --<cite>Vladimir I. Arnold</cite>
  </blockquote>

  <div class="adventures-navbar">
    <div>
      <button>Coding</button>
      <button>Math</button>
      <button>Software</button>
    </div>
  </div>

  <ul class="adventures">
    <li class="adventure">
      <div class ="gallery">
        {% for display_title, project_name, cover_name in [
          ('Animaciones de Wasserstein', 'WassersteinAnimation', 'WassersteinAnimation'),
          ('Model View Projection', 'ModelViewProjection', 'ModelViewProjection'),
          ('The Heat Method for Distance Computation', 'HeatMethod', 'HeatMethodBackup'),
          ('Discrete Laplacian on Triangle Meshes', 'DiscreteLaplacian', 'DiscreteLaplacian'),
        ]%}
        <a class="gallery-item" href="coding/{{ project_name }}/{{ project_name }}.html">
          <p>{{ display_title }}</p>
          <img src="covers/{{ cover_name }}.png"/>
        </a>
        {% endfor %}
      </div>
    </li>

    {# List type adventures, must follow the order of the navbar #}
    {% for adventure_section in
      (
        (
          ( 'Derivation of the Logistic Regression formula', 
            'LogisticRegression',
            'math/LogisticRegression/LogisticRegression.html'
          ),
          ( 'Approximation Theory for Continuous Operators and its Application to the Operator Learning Problem',
            'MasterThesis',
            'https://uccl0-my.sharepoint.com/:b:/g/personal/slsanchez_uc_cl/IQDpc1TxThaYSYNLo1uX14hwAdn7O0o0K3sq7dAP7M7bziI?e=U2ct7a',
          ),
          ( 'Wave Scattering Through a Ball',
            'WaveScattering',
            'math/WaveScattering/WaveScattering.html',
          ),
        ),
        (
          ( 'Django Survey (in progress)',
            'DjangoSurveyApp',
            'https://github.com/sebastian-sanchez-s/MEBA'
          ),
          ( 'Which Young tableaux can represent an outer sum?',
            'YoungTableauxOuterSums',
            'https://github.com/sebastian-sanchez-s/IPI-23-2211'
          ),
          ( 'Bitmap library in C',
            'Bitmap',
            'https://github.com/sebastian-sanchez-s/BitMap'
          ),
        ),
      )
    %}

    <li class="adventure">
      <div class="project-list">
        {% for display_title, project_name, href in adventure_section %}
          <div class="project-list-item" >
            <div class="project-list-item-description">
              <h1><a href="{{ href }}" target="_blank">{{ display_title }}</a></h1>
              {% include "desc/"~project_name~".html" %}
            </div>
            <a class="project-list-item-img" href="{{ href }}" target="_blank">
              <img src="covers/{{ project_name }}.png"/>
            </a>
          </div>
        {% endfor %}
      </div>
    </li>
    {% endfor %}
  </ul>
</main>

<script>
  const adventuresNav = document.querySelector(".adventures-navbar");
  const buttons = adventuresNav.querySelectorAll("button");
  const adventures = document.querySelectorAll(".adventure");

  let lastIndex = 0;
  buttons[lastIndex].style.background = "rgba(255, 255, 255, 0.2)";

  function updateNavBar(newIndex) {
      buttons[lastIndex].style.background = "black";
      buttons[newIndex].style.background = "rgba(255, 255, 255, 0.2)";

      lastIndex = newIndex;
  }


  for(let i=0; i<buttons.length; i++){
    buttons[i].addEventListener("click", () => {
      adventures[i].scrollIntoView({behavior: "smooth"});

      updateNavBar(i);
    });
  }

  const adventureContainer = document.querySelector(".adventures");

  function isVisible(element) {
    const rect = element.getBoundingClientRect();
    return rect.left >= 0 && rect.right <= (window.innerWidth || document.documentElement.clientWidth);
  }

  adventureContainer.addEventListener("scroll", (e) => {
    for( let i=0; i < adventures.length; i++) {
      if( isVisible(adventures[i]) ){
        updateNavBar(i);
        break;
      }
    }
  });
</script>

{% endblock %}

